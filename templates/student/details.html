{% extends "base.html" %}

{% block title %}Détails de l'étudiant{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Détails de l'étudiant</h2>
    
    <div class="row mt-4">
        <div class="col-md-4">
            {% if student.photo %}
                <img src="{{ url_for('static', filename='uploads/' + student.photo) }}" 
                     alt="Photo de l'étudiant" 
                     class="img-fluid rounded"
                     style="max-width: 300px; max-height: 300px;">
            {% else %}
                <div class="alert alert-info">Aucune photo disponible</div>
            {% endif %}
        </div>
        
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">{{ student.prenom }} {{ student.nom }}</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Matricule:</strong> {{ student.matricule }}</p>
                            <p><strong>CIN:</strong> {{ student.cin }}</p>
                            <p><strong>Date de naissance:</strong> {{ student.date_naissance }}</p>
                            <p><strong>Sexe:</strong> {{ student.sexe }}</p>
                            <p><strong>Nationalité:</strong> {{ student.nationalite }}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Téléphone:</strong> {{ student.telephone }}</p>
                            <p><strong>Email:</strong> {{ student.email }}</p>
                            <p><strong>Année universitaire:</strong> {{ student.annee_universitaire }}</p>
                            <p><strong>Filière:</strong> {{ student.filiere_name }}</p>
                            <p><strong>Internat:</strong> {{ student.type_section }}</p>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <p><strong>Numéro de chambre:</strong> {{ student.num_chambre if student.num_chambre not in [None, '', 'no room'] else 'Aucune' }}</p>
                            <p><strong>Mobilité:</strong> {{ student.mobilite }}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Vie associative:</strong> {{ student.vie_associative }}</p>
                            <p><strong>Bourse:</strong> {{ student.bourse }}</p>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-12">
                            <p><strong>Dossier médical:</strong> {{ student.dossier_medicale }}</p>
                            <p><strong>Observation:</strong> {{ student.observation }}</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-3">
                <a href="{{ url_for('student.modify_student', student_id=student.id) }}" class="btn btn-primary">Modifier</a>
                <a href="{{ url_for('student.list_students') }}" class="btn btn-secondary">Retour à la liste</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}